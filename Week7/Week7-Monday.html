
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Monday Worksheet &#8212; UC Irvine Math 10</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Homework" href="Week7-Homework.html" />
    <link rel="prev" title="Video demonstration of K-Means clustering" href="KMeans-demo.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/digitsyellow.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">UC Irvine Math 10</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   UC Irvine, Math 10, Fall 2021
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Week1/Week1-Intro.html">
   Week 1
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week1/DataTypes.html">
     Data types in Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week1/Week1-Monday.html">
     Worksheet
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week1/Week1-Wednesday.html">
     Week 1 Wednesday Lecture
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Week2/Week2-Intro.html">
   Week 2
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week2/Week1-Friday.html">
     Introduction to pandas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week2/Week2-Monday.html">
     Worksheet
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week2/Week2-Wednesday.html">
     pandas examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week2/Homework2.html">
     Homework 2: Prime numbers, Random numbers, and Intro to pandas
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Week3/Week3-Intro.html">
   Week 3
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week3/Week2-Friday.html">
     Introduction to Altair
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week3/intro-Altair.html">
     Altair Preview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week3/First-Altair-examples.html">
     First two examples of Altair Charts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week3/Week3-Monday.html">
     Worksheet
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week3/Week3-Friday.html">
     Week 3 - Friday Lecture
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Week4/Week4-Intro.html">
   Week 4
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week4/intro-Streamlit.html">
     Introduction to Streamlit
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week4/using-Streamlit.html">
     The building blocks of a Streamlit app
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week4/Homework4.html">
     Worksheet Week 4 &amp; Homework 4
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week4/reruns-Streamlit.html">
     Reruns in Streamlit
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week4/session-state.html">
     Remembering values in Streamlit
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week4/deploy.html">
     (Optional) Share a Streamlit App
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Week5/Week5-Intro.html">
   Week 5
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week5/intro-ML.html">
     Introduction to Machine Learning
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week5/LinearRegression.html">
     Introduction to Linear Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week5/Week5-reading.html">
     Reading for Week 5
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week5/Week5-Monday.html">
     Sample code from
     <em>
      Hands-On Machine Learning
     </em>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week5/Homework5.html">
     Homework 5
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week5/Week5-Wednesday.html">
     Linear regression
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Week6/Week6-Intro.html">
   Week 6
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week6/Week5-Friday.html">
     Over-fitting and polynomial regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week6/video-quiz.html">
     Video quiz
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week6/datetime-notebook.html">
     pd.datetime notebook
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week6/Week6-Monday.html">
     Monday Worksheet
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week6/Week6-Wednesday.html">
     Midterm Review
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Week6/matplotlib_intro.html">
     Introduction to matplotlib
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="Week7-Intro.html">
   Week 7
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="Week6-Friday.html">
     K-Means clustering using scikit-learn
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="KMeans-demo.html">
     Video demonstration of K-Means clustering
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Monday Worksheet
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Week7-Homework.html">
     Homework
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Proj/Proj-Intro.html">
   Course Project
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../Proj/CourseProject.html">
     Course Project
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/Week7/Week7-Monday.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/ChristopherDavisUCI/UCI-Math-10"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#warm-up-with-any-and-all">
   Warm-up with
   <code class="docutils literal notranslate">
    <span class="pre">
     any
    </span>
   </code>
   and
   <code class="docutils literal notranslate">
    <span class="pre">
     all
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#identifying-the-problem">
   Identifying the problem
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fixing-the-problem-using-standardscaler">
   Fixing the problem using
   <code class="docutils literal notranslate">
    <span class="pre">
     StandardScaler
    </span>
   </code>
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="monday-worksheet">
<h1>Monday Worksheet<a class="headerlink" href="#monday-worksheet" title="Permalink to this headline">¶</a></h1>
<p>On Friday, we ran K-Means clustering on the numeric columns from the Spotify dataset.  We should add an additional step, because it turns out that in the version from Friday, one of the dimensions (“input variables”/”features”/predictors”) was dominating all the others.</p>
<div class="section" id="warm-up-with-any-and-all">
<h2>Warm-up with <code class="docutils literal notranslate"><span class="pre">any</span></code> and <code class="docutils literal notranslate"><span class="pre">all</span></code><a class="headerlink" href="#warm-up-with-any-and-all" title="Permalink to this headline">¶</a></h2>
<p>On Friday, we removed the rows which were bad in the Energy column, and were lucky that was good enough.  We really should have removed the rows that were bad in any column.  We can do that using either <code class="docutils literal notranslate"><span class="pre">any</span></code> or <code class="docutils literal notranslate"><span class="pre">all</span></code>.</p>
<ul class="simple">
<li><p>Using <code class="docutils literal notranslate"><span class="pre">rng.choice</span></code> and <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>, make a 15x3 pandas DataFrame consisting of randomly chosen values of True and False.  Call it <code class="docutils literal notranslate"><span class="pre">df_bool</span></code>.</p></li>
<li><p>Try evaluating <code class="docutils literal notranslate"><span class="pre">df_bool.any(axis</span> <span class="pre">=</span> <span class="pre">1)</span></code>, <code class="docutils literal notranslate"><span class="pre">df_bool.all(axis</span> <span class="pre">=</span> <span class="pre">1)</span></code>, <code class="docutils literal notranslate"><span class="pre">df_bool.any(axis</span> <span class="pre">=</span> <span class="pre">0)</span></code>, <code class="docutils literal notranslate"><span class="pre">df_bool.all(axis</span> <span class="pre">=</span> <span class="pre">0)</span></code> to learn about these <code class="docutils literal notranslate"><span class="pre">any</span></code> and <code class="docutils literal notranslate"><span class="pre">all</span></code> methods.</p></li>
</ul>
<p>(This same syntax works for a NumPy array.  We asked you to convert it to a pandas DataFrame so that the values were easier to display in the notebook.)</p>
</div>
<div class="section" id="identifying-the-problem">
<h2>Identifying the problem<a class="headerlink" href="#identifying-the-problem" title="Permalink to this headline">¶</a></h2>
<p>In a Jupyter notebook, we will basically follow <a class="reference internal" href="Week6-Friday.html"><span class="doc std std-doc">the procedure from Friday’s class</span></a>, but there will be a few changes.</p>
<ul class="simple">
<li><p>Import the Spotify dataset as <code class="docutils literal notranslate"><span class="pre">df</span></code> (be sure to use the <code class="docutils literal notranslate"><span class="pre">na_values</span></code> argument, so that the appropriate columns become numeric automatically).</p></li>
<li><p>Verify that the correct columns are numeric, by using <code class="docutils literal notranslate"><span class="pre">dtypes</span></code>.</p></li>
<li><p>Let’s say a row is <em>bad</em> if any of its entries is NaN.  Using either <code class="docutils literal notranslate"><span class="pre">isna</span></code> or <code class="docutils literal notranslate"><span class="pre">notna</span></code> and either <code class="docutils literal notranslate"><span class="pre">any</span></code> or <code class="docutils literal notranslate"><span class="pre">all</span></code>, remove the bad rows from the DataFrame.  Call the result <code class="docutils literal notranslate"><span class="pre">df2</span></code>.  Put a <code class="docutils literal notranslate"><span class="pre">.copy()</span></code> afterwards just to be safe.</p></li>
<li><p>Check your answer by computing the <code class="docutils literal notranslate"><span class="pre">shape</span></code> of <code class="docutils literal notranslate"><span class="pre">df2</span></code>.  It should be <code class="docutils literal notranslate"><span class="pre">(1545,</span> <span class="pre">23)</span></code>.</p></li>
<li><p>Get a list <code class="docutils literal notranslate"><span class="pre">numeric_cols</span></code> containing the names of all the numeric columns from <code class="docutils literal notranslate"><span class="pre">df2</span></code>.  Like on Friday, use <code class="docutils literal notranslate"><span class="pre">is_numeric_dtype</span></code>.  Your list should have length 14</p></li>
<li><p>Make a new DataFrame <code class="docutils literal notranslate"><span class="pre">df3</span></code> containing only the numeric columns of <code class="docutils literal notranslate"><span class="pre">df2</span></code>.</p></li>
<li><p>Instantiate a <code class="docutils literal notranslate"><span class="pre">KMeans</span></code> object, specifying 10 clusters.  Call the result <code class="docutils literal notranslate"><span class="pre">kmeans</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fit</span></code> the object using <code class="docutils literal notranslate"><span class="pre">df3</span></code>.</p></li>
<li><p>We are going to store the <code class="docutils literal notranslate"><span class="pre">cluster</span></code> values into the previous DataFrame <code class="docutils literal notranslate"><span class="pre">df2</span></code>, not in <code class="docutils literal notranslate"><span class="pre">df3</span></code>.  The reason that is better, is because <code class="docutils literal notranslate"><span class="pre">df2</span></code> contains information like artist name and song title.  Use code that’s in the following form.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>df2[???] = kmeans.predict(df2[???])
</pre></div>
</div>
<ul class="simple">
<li><p>Plot the result using the following code with Altair.  Make the colors look better by specifying the appropriate <a class="reference external" href="https://altair-viz.github.io/user_guide/encoding.html#encoding-data-types">encoding type</a> for the color column.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;Artist Followers&quot;</span><span class="p">,</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;Valence&quot;</span><span class="p">,</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;cluster&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Our clusters are fit using 14-dimensional data, but one of those dimensions is dominating because the values in it are so much larger than the others.</p></li>
<li><p>Check the mean and standard deviation of all the different columns in <code class="docutils literal notranslate"><span class="pre">df3</span></code> by using <code class="docutils literal notranslate"><span class="pre">df3.mean(axis</span> <span class="pre">=</span> <span class="pre">???)</span></code> and <code class="docutils literal notranslate"><span class="pre">df3.std(axis</span> <span class="pre">=</span> <span class="pre">???)</span></code>. (If you want to get numbers that are easier to read, without the scientific notation, you can change the way pandas displays float values, as in this <a class="reference external" href="https://stackoverflow.com/a/21140339">Stack Overflow answer</a>.)</p></li>
</ul>
</div>
<div class="section" id="fixing-the-problem-using-standardscaler">
<h2>Fixing the problem using <code class="docutils literal notranslate"><span class="pre">StandardScaler</span></code><a class="headerlink" href="#fixing-the-problem-using-standardscaler" title="Permalink to this headline">¶</a></h2>
<p>This is such a common issue in Machine Learning (not just for clustering), that there is a built-in tool in scikit-learn to rescale the different columns.  The tool is called <code class="docutils literal notranslate"><span class="pre">StandardScaler</span></code>, and its syntax is very similar to the usual scikit-learn syntax.</p>
<ul class="simple">
<li><p>Import <code class="docutils literal notranslate"><span class="pre">StandardScaler</span></code> using the following code.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Instantiate a new <code class="docutils literal notranslate"><span class="pre">StandardScaler</span></code> object, and name it <code class="docutils literal notranslate"><span class="pre">scaler</span></code>.  Do this the same way you instantiate a <code class="docutils literal notranslate"><span class="pre">LinearRegression</span></code> object or a <code class="docutils literal notranslate"><span class="pre">KMeans</span></code> object.  You don’t need to pass any arguments inside the parentheses.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fit</span></code> the object using <code class="docutils literal notranslate"><span class="pre">scaler.fit(df3)</span></code>.</p></li>
<li><p>Normally we would try <code class="docutils literal notranslate"><span class="pre">scaler.predict(df3)</span></code>, but since we are not predicting anything, a different word is used.  Evaluate <code class="docutils literal notranslate"><span class="pre">scaler.transform(df3)</span></code>.  Convert it to a pandas DataFrame and name the result <code class="docutils literal notranslate"><span class="pre">df4</span></code>.  Give <code class="docutils literal notranslate"><span class="pre">df4</span></code> the same column names as <code class="docutils literal notranslate"><span class="pre">df3</span></code>.</p></li>
</ul>
<p>You should think of <code class="docutils literal notranslate"><span class="pre">df4</span></code> and <code class="docutils literal notranslate"><span class="pre">df3</span></code> as containing the same data, with the only difference being that the data in <code class="docutils literal notranslate"><span class="pre">df4</span></code> has been normalized.</p>
<ul class="simple">
<li><p>Evaluate the mean and standard deviation of the columns of <code class="docutils literal notranslate"><span class="pre">df4</span></code>.</p></li>
<li><p>Instantiate a new <code class="docutils literal notranslate"><span class="pre">KMeans</span></code> object with however many clusters you want.  <code class="docutils literal notranslate"><span class="pre">fit</span></code> the new object using <code class="docutils literal notranslate"><span class="pre">df4</span></code>, and then <code class="docutils literal notranslate"><span class="pre">predict</span></code> also using <code class="docutils literal notranslate"><span class="pre">df4</span></code>.  (It would be a little more robust to instead predict using <code class="docutils literal notranslate"><span class="pre">df2</span></code>, but then we would need another round of scaling and putting in column names.)  Put the resulting cluster numbers into the “cluster” column of <code class="docutils literal notranslate"><span class="pre">df2</span></code> (so overwrite the old “cluster” column.)</p></li>
<li><p>Redo the Altair plot from above.  Add in a tooltip specifying the song name and artist name.  If everything went correctly, the colors should look less strictly ordered than before the scaling was done.</p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Week7"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="KMeans-demo.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Video demonstration of K-Means clustering</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="Week7-Homework.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Homework</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Christopher Davis<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>